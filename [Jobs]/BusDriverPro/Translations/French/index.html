<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>BusDriverPro</title>
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/fonts/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/izitoast/1.4.0/css/iziToast.min.css">
    <link rel="stylesheet" href="assets/css/styles.min.css">
</head>

<body>
    <h1 style="text-align: center;">Aurora Bus</h1>
    <div>
        <ul class="nav nav-tabs" role="tablist" style="margin-top: 20px;">
            <li class="nav-item" role="presentation"><a class="nav-link active" role="tab" data-toggle="tab" href="#tab-1">Routes</a></li>
        </ul>
        <div class="tab-content">
            <div class="tab-pane active" role="tabpanel" id="tab-1">
                <section>
                    <section id="amihub-elemnt-menubar">
                        <div class="top-menu-wrapper shadow">
                            <div class="row pt-1 pb-1 pl-3 pr-3 align-items-center top-menu-wrapper">
                                <div class="col col-lg-2 col-sm-12 col-space"><button class="btn btn-primary btn btn-outline-info btn-block" type="button" data-toggle="modal" data-target="#addSensorModal"><i class="fa fa-plus mr-2"></i>&nbsp;Nouvelle route</button></div>
                            </div>
                        </div>
                        <div class="modal fade" role="dialog" tabindex="-1" id="addSensorModal" aria-labelledby="addSensorModalLabel">
                            <div class="modal-dialog" role="document">
                                <div class="modal-content">
                                    <div class="modal-header"><i class="fa fa-plus icon-dashboard"></i>
                                        <h4 class="modal-title">Nouvelle route</h4><button type="button" class="close" data-dismiss="modal" aria-label="Fermer"><span aria-hidden="true">×</span></button>
                                    </div>
                                    <div class="modal-body">
                                        <form>
                                            <div class="form-group"><label>Nom de la tournée</label><input class="form-control" type="text" id="fieldNameDashboard" placeholder="Ma tournée"></div>
                                        </form>
                                        <p>Info: Pour configurer les arrêts, cliquer sur la tournée après l'avoir créée.</p>
                                    </div>
                                    <div class="modal-footer"><button class="btn btn-light" id="btnModelCloseAddDashboard" type="button" data-dismiss="modal">Close</button><button id="routeCreateButton" class="btn btn-primary btn btn-outline-info btn-block" type="button">Créer</button></div>
                                </div>
                            </div>
                        </div>
                    </section>
                    <section id="container" class="row m-3">
                    </section>
                    <section>
                        <div class="infopanel show" style="display:none">
                            <div class="d-inline-block float-right mr-2 mt-1"><a class="close d-inline-block mr-2 mt-4" href="javascript:closeInfoPanel()" data-dismiss=".infopanel" aria-label="Fermer"><span aria-hidden="true">x</span></a></div>
                            <div class="clear p-2 ml-1 mb-2 bold"><span id="routeNameSpan"><br />Route 1<br /><br /></span></div><hr><p id="paragraphueberschriftbus" style="font-weight: bold; font-size:20px;">Arrêt de bus</p><div class="dropdown"><button class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-expanded="false" type="button">Ajouter un arrêt </button>
    <div id="dropyyIsDown" class="dropdown-menu"></div>
</div><article id="stopsList" class="container">
  </article><hr><p id="paragraphueberschriftbus" style="font-weight: bold; font-size:20px;">Selectionner un bus</p><div id="busListThing" class="form-check" style="margin-left: 0px;"><input type="checkbox" class="form-check-input" id="formCheck-1" style="margin-left: 0px;" /><label class="form-check-label" for="formCheck-1">Airport Shuttle Bus</label></div><hr><button class="btn btn-primary" id="buttonconfirm12" type="button">Confirmer les changements</button><hr><button class="btn btn-danger" id="delteRoute" type="button">Supprimer une tournée</button>
                        </div>
                    </section>
                </section>
            </div>
        </div>
    </div>
    <script src="nui://game/ui/jquery.js" type="text/javascript"></script>
    <script src="assets/bootstrap/js/bootstrap.min.js"></script>
    <script src="assets/js/script.min.js"></script>
    <script src="assets/js/jquery-ui.min.js"></script>
    <script>
const _0x3573=['form-check-input','sortable','sounds/NextStop.mp3','random','data','.dropdown-item','floor','content','play','sounds/StopRequest.mp3','fieldNameDashboard','715214PxeuQn','length','load','playBusSound','click','Nom:\x20','\x22\x20class=\x22dropdown-item\x22>','<input\x20type=\x22checkbox\x22\x20class=\x22form-check-input\x22\x20id=\x22','hide','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','json','.routeClicker','then','replace','closest','checked','<br\x20/>','\x22\x20class=\x22busStopDrag\x22\x20draggable=\x22true\x22><h3>','name','application/json;\x20charset=UTF-8','min<br></p></div></div></a></div>','addRoute','routeNameSpan','</p><a\x20class=\x22deleteTheButton\x22>Supprimer</a></div>','<div\x20class=\x22col-sm-12\x20col-md-6\x20col-lg-4\x20col-xl-3\x20mb-3\x20routeClicker\x22\x20id=\x22','addEventListener','2aopNSc','selectedBusses','961301ivopnb','/close','forEach','<br\x20/><br\x20/>','busStopDrag','<a\x20id=\x22','\x20<span\x20class=\x22actor\x22><i\x20class=\x22fa\x20fa-chevron-down\x22></i></span></h3><p\x20class=\x22nameField12\x22>Nom:\x20','playBusStopSound','type','innerText','.mp3','#container','/getRouteInfo','#delteRoute','push','value','<div\x20id=\x22','</label>','body','card-title','sounds/Announcement.mp3','target','485365nvDDIS','lastStop','ended','stops','getElementsByClassName','#dropyyIsDown','159xrhZmO','bus','/getRoutes','getElementById','1178973Amnpum','empty','/updateRoute','#routeCreateButton','</h5><p\x20class=\x22card-text\x22>','show','2778byMGod','#busListThing','split','querySelector','#stopsList','https://','POST','\x22\x20style=\x22margin-left:\x200px;\x22\x20/><label\x20class=\x22form-check-label\x22\x20for=\x22','stringify','957207lTsAvH','charAt','append','openEditor','message','975365HxlaRp','</a>','includes','1GroFzw','busses','.nameField12','innerHTML'];const _0xc1e4=function(_0x4789ef,_0xa8ebe0){_0x4789ef=_0x4789ef-0x142;let _0x357362=_0x3573[_0x4789ef];return _0x357362;};const _0xb4e180=_0xc1e4;(function(_0x39e1e1,_0x37d61c){const _0x1e2552=_0xc1e4;while(!![]){try{const _0x288d26=-parseInt(_0x1e2552(0x152))*-parseInt(_0x1e2552(0x148))+parseInt(_0x1e2552(0x18e))+-parseInt(_0x1e2552(0x15b))+parseInt(_0x1e2552(0x142))*parseInt(_0x1e2552(0x18c))+-parseInt(_0x1e2552(0x172))+parseInt(_0x1e2552(0x160))+parseInt(_0x1e2552(0x163))*-parseInt(_0x1e2552(0x14c));if(_0x288d26===_0x37d61c)break;else _0x39e1e1['push'](_0x39e1e1['shift']());}catch(_0x395b13){_0x39e1e1['push'](_0x39e1e1['shift']());}}}(_0x3573,0x79828));let allBusses=[];window[_0xb4e180(0x18b)](_0xb4e180(0x174),function(){const _0x517ce9=_0xb4e180;fetch(_0x517ce9(0x157)+GetParentResourceName()+_0x517ce9(0x14a),{'method':_0x517ce9(0x158),'headers':{'Content-Type':_0x517ce9(0x185)},'body':JSON[_0x517ce9(0x15a)]({})})[_0x517ce9(0x17e)](_0x42ff5e=>_0x42ff5e[_0x517ce9(0x17c)]())[_0x517ce9(0x17e)](_0xf6d7bb=>{const _0x5ac869=_0x517ce9;allBusses=_0xf6d7bb[_0x5ac869(0x164)];});}),$(document)['on']('click',_0xb4e180(0x16c),function(_0x4ee3c1){const _0x41bcfc=_0xb4e180;let _0x324658=_0x4ee3c1[_0x41bcfc(0x1a3)][_0x41bcfc(0x180)](_0x41bcfc(0x16c)),_0x11ca17=_0x324658['id'];$('#'+_0x11ca17)['remove'](),$(_0x41bcfc(0x156))[_0x41bcfc(0x15d)](_0x41bcfc(0x19e)+randomString(0x7)+_0x41bcfc(0x183)+_0x324658[_0x41bcfc(0x166)]+_0x41bcfc(0x194)+_0x324658[_0x41bcfc(0x166)]+_0x41bcfc(0x189));}),$(document)['on'](_0xb4e180(0x176),_0xb4e180(0x14f),function(_0x145fb3){const _0x4d44f4=_0xb4e180;let _0x9f3a14=document[_0x4d44f4(0x14b)](_0x4d44f4(0x171))[_0x4d44f4(0x19d)];fetch('https://'+GetParentResourceName()+_0x4d44f4(0x14e),{'method':_0x4d44f4(0x158),'headers':{'Content-Type':_0x4d44f4(0x185)},'body':JSON['stringify']({'name':_0x9f3a14,'busses':[_0x4d44f4(0x149)],'stops':[]})}),setTimeout(function(){const _0x3a3579=_0x4d44f4;$('#container')[_0x3a3579(0x14d)](),fetch('https://'+GetParentResourceName()+_0x3a3579(0x14a),{'method':'POST','headers':{'Content-Type':_0x3a3579(0x185)},'body':JSON[_0x3a3579(0x15a)]({})})[_0x3a3579(0x17e)](_0x44590e=>_0x44590e[_0x3a3579(0x17c)]())['then'](_0x5560fc=>{const _0xf0e6f1=_0x3a3579;allBusses=_0x5560fc[_0xf0e6f1(0x164)];});},0x2ee);}),$(document)['on'](_0xb4e180(0x176),_0xb4e180(0x19b),function(_0x12aca1){const _0x575036=_0xb4e180;let _0x5a3185=document[_0x575036(0x14b)](_0x575036(0x188))[_0x575036(0x197)][_0x575036(0x154)]('\x0a')['join']('');fetch(_0x575036(0x157)+GetParentResourceName()+'/deleteRoute',{'method':'POST','headers':{'Content-Type':_0x575036(0x185)},'body':JSON['stringify']({'name':_0x5a3185})}),closeInfoPanel(),setTimeout(function(){const _0x176f91=_0x575036;$(_0x176f91(0x199))[_0x176f91(0x14d)](),fetch(_0x176f91(0x157)+GetParentResourceName()+_0x176f91(0x14a),{'method':_0x176f91(0x158),'headers':{'Content-Type':_0x176f91(0x185)},'body':JSON[_0x176f91(0x15a)]({})})['then'](_0x668f69=>_0x668f69[_0x176f91(0x17c)]())['then'](_0x59a180=>{allBusses=_0x59a180['busses'];});},0x2ee);}),$(document)['on']('click','.deleteTheButton',function(_0x3a55ee){const _0x20cede=_0xb4e180;let _0x89def3=_0x3a55ee['target'][_0x20cede(0x180)]('.busStopDrag'),_0x2f6a7b=_0x89def3['id'];$(_0x20cede(0x147))[_0x20cede(0x15d)](_0x20cede(0x193)+randomString(0xa)+_0x20cede(0x178)+_0x89def3['querySelector'](_0x20cede(0x165))['innerHTML'][_0x20cede(0x17f)](_0x20cede(0x177),'')+_0x20cede(0x161)),$('#'+_0x2f6a7b)['remove']();}),$(document)['on'](_0xb4e180(0x176),'#buttonconfirm12',function(_0xc8cf84){const _0xdfd67e=_0xb4e180;let _0x38734b=document[_0xdfd67e(0x146)](_0xdfd67e(0x192)),_0x157405=[];for(var _0x1c22aa=0x0;_0x1c22aa<_0x38734b[_0xdfd67e(0x173)];_0x1c22aa++){_0x157405[_0xdfd67e(0x19c)](_0x38734b[_0x1c22aa][_0xdfd67e(0x155)](_0xdfd67e(0x165))[_0xdfd67e(0x166)]['replace'](_0xdfd67e(0x177),''));}let _0x443dd4=document['getElementsByClassName'](_0xdfd67e(0x167)),_0x342da0=[];for(var _0x1c22aa=0x0;_0x1c22aa<_0x443dd4[_0xdfd67e(0x173)];_0x1c22aa++){_0x443dd4[_0x1c22aa][_0xdfd67e(0x181)]&&_0x342da0[_0xdfd67e(0x19c)](_0x443dd4[_0x1c22aa]['labels'][0x0][_0xdfd67e(0x166)]);}fetch(_0xdfd67e(0x157)+GetParentResourceName()+_0xdfd67e(0x14e),{'method':'POST','headers':{'Content-Type':_0xdfd67e(0x185)},'body':JSON['stringify']({'name':document[_0xdfd67e(0x14b)]('routeNameSpan')['innerText'][_0xdfd67e(0x154)]('\x0a')['join'](''),'busses':_0x342da0,'stops':_0x157405})}),setTimeout(function(){const _0x25ac6c=_0xdfd67e;$('#container')[_0x25ac6c(0x14d)](),fetch(_0x25ac6c(0x157)+GetParentResourceName()+_0x25ac6c(0x14a),{'method':_0x25ac6c(0x158),'headers':{'Content-Type':_0x25ac6c(0x185)},'body':JSON['stringify']({})})['then'](_0x4ef37a=>_0x4ef37a[_0x25ac6c(0x17c)]())[_0x25ac6c(0x17e)](_0x2982c5=>{const _0x213223=_0x25ac6c;allBusses=_0x2982c5[_0x213223(0x164)];});},0x2ee);}),$(_0xb4e180(0x1a0))[_0xb4e180(0x17a)](),window[_0xb4e180(0x18b)](_0xb4e180(0x15f),_0x4a63c2=>{const _0x38e273=_0xb4e180;_0x4a63c2[_0x38e273(0x16b)][_0x38e273(0x196)]===_0x38e273(0x15e)&&$(_0x38e273(0x1a0))[_0x38e273(0x151)](),_0x4a63c2['data'][_0x38e273(0x196)]===_0x38e273(0x187)&&$(_0x38e273(0x199))[_0x38e273(0x15d)](_0x38e273(0x18a)+randomString(0x14)+'\x22><a\x20class=\x22links\x22\x20href=\x22javascript:openInfoPanel()\x22><div\x20class=\x22card\x20device-card\x22><div\x20class=\x22card-device-status\x20bg-success\x22></div><div\x20class=\x22card-body\x22><h5\x20class=\x22card-title\x22>'+_0x4a63c2['data'][_0x38e273(0x184)]+_0x38e273(0x150)+_0x4a63c2[_0x38e273(0x16b)][_0x38e273(0x145)]+'\x20Stops</p><p\x20class=\x22card-text-small\x22>Estimated\x20Time:\x20'+_0x4a63c2[_0x38e273(0x16b)]['stops']*1.5+_0x38e273(0x186));}),$(document)['on'](_0xb4e180(0x176),_0xb4e180(0x17d),function(_0x17d56d){const _0x1725aa=_0xb4e180;let _0x50d5b4=_0x17d56d[_0x1725aa(0x1a3)][_0x1725aa(0x180)](_0x1725aa(0x17d))[_0x1725aa(0x146)](_0x1725aa(0x1a1))[0x0]['innerHTML'];fetch('https://'+GetParentResourceName()+_0x1725aa(0x19a),{'method':_0x1725aa(0x158),'headers':{'Content-Type':'application/json;\x20charset=UTF-8'},'body':JSON[_0x1725aa(0x15a)]({'route':_0x50d5b4})})['then'](_0x1c3024=>_0x1c3024[_0x1725aa(0x17c)]())[_0x1725aa(0x17e)](_0x423966=>{const _0x2d63d4=_0x1725aa;document[_0x2d63d4(0x14b)](_0x2d63d4(0x188))['innerHTML']=_0x2d63d4(0x182)+_0x50d5b4+_0x2d63d4(0x191),$(_0x2d63d4(0x156))[_0x2d63d4(0x14d)](),_0x423966[_0x2d63d4(0x145)]['forEach']((_0x3d9660,_0x103050)=>{const _0x208dd9=_0x2d63d4;$(_0x208dd9(0x156))[_0x208dd9(0x15d)]('<div\x20id=\x22'+randomString(0x7)+'\x22\x20class=\x22busStopDrag\x22\x20draggable=\x22true\x22><h3>'+_0x3d9660+_0x208dd9(0x194)+_0x3d9660+_0x208dd9(0x189));}),$('#dropyyIsDown')[_0x2d63d4(0x14d)](),_0x423966['availableStops'][_0x2d63d4(0x190)]((_0x3d2598,_0x2a2cb5)=>{const _0x25341e=_0x2d63d4;$(_0x25341e(0x147))['append'](_0x25341e(0x193)+randomString(0xa)+'\x22\x20class=\x22dropdown-item\x22>'+_0x3d2598+_0x25341e(0x161));}),$(_0x2d63d4(0x153))[_0x2d63d4(0x14d)](),_0x423966['selectedBusses']['forEach']((_0x4e2332,_0x35fb00)=>{const _0x7c6510=_0x2d63d4;let _0x5ce872=randomString(0xf);$(_0x7c6510(0x153))[_0x7c6510(0x15d)]('<input\x20type=\x22checkbox\x22\x20checked=\x22true\x22\x20class=\x22form-check-input\x22\x20id=\x22'+_0x5ce872+_0x7c6510(0x159)+_0x5ce872+'\x22>'+_0x4e2332+_0x7c6510(0x19f));}),allBusses[_0x2d63d4(0x190)]((_0x26e0b4,_0x1da42d)=>{const _0x26ecaf=_0x2d63d4;if(!_0x423966[_0x26ecaf(0x18d)][_0x26ecaf(0x162)](_0x26e0b4)){let _0x36ba9e=randomString(0xf);$(_0x26ecaf(0x153))['append'](_0x26ecaf(0x179)+_0x36ba9e+_0x26ecaf(0x159)+_0x36ba9e+'\x22>'+_0x26e0b4+_0x26ecaf(0x19f));}});});}),$(_0xb4e180(0x156))[_0xb4e180(0x168)](),jQuery(document)['on']('keyup',function(_0x4c0664){const _0x1973ec=_0xb4e180;_0x4c0664['keyCode']==0x1b&&($(_0x1973ec(0x1a0))[_0x1973ec(0x17a)](),fetch('https://'+GetParentResourceName()+_0x1973ec(0x18f),{'method':_0x1973ec(0x158),'headers':{'Content-Type':_0x1973ec(0x185)},'body':JSON[_0x1973ec(0x15a)]({})}));}),window[_0xb4e180(0x18b)](_0xb4e180(0x15f),function(_0x485a88){const _0x4e07c8=_0xb4e180;if(_0x485a88[_0x4e07c8(0x16b)][_0x4e07c8(0x196)]===_0x4e07c8(0x175)){let _0x24ceff=new Audio(_0x4e07c8(0x1a2));_0x24ceff[_0x4e07c8(0x18b)](_0x4e07c8(0x144),function(_0x57f3ef){const _0x550734=_0x4e07c8;let _0x9eecb=new Audio(_0x550734(0x169));_0x9eecb['addEventListener'](_0x550734(0x144),function(_0x1c114b){setTimeout(function(){const _0x45faac=_0xc1e4;let _0x57a40e=new Audio('sounds/'+_0x485a88[_0x45faac(0x16b)][_0x45faac(0x15f)][_0x45faac(0x17f)](/\s/g,'')+_0x45faac(0x198));_0x57a40e[_0x45faac(0x18b)]('ended',function(_0x55b0ff){const _0x8664e3=_0x45faac;_0x485a88[_0x8664e3(0x16b)][_0x8664e3(0x16e)]===_0x8664e3(0x143)&&setTimeout(function(){const _0x5b2d3a=_0x8664e3;let _0x3b7c6c=new Audio('sounds/LastStop.mp3');_0x3b7c6c[_0x5b2d3a(0x16f)]();},0x96);}),_0x57a40e[_0x45faac(0x16f)]();},0x96);}),_0x9eecb[_0x550734(0x16f)]();}),_0x24ceff[_0x4e07c8(0x16f)]();}else{if(_0x485a88[_0x4e07c8(0x16b)][_0x4e07c8(0x196)]===_0x4e07c8(0x195)){let _0x17974c=new Audio(_0x4e07c8(0x170));_0x17974c[_0x4e07c8(0x16f)]();}}});function randomString(_0x509ba3){const _0x1d25f7=_0xb4e180;var _0x2a394b='',_0x21e9f0=_0x1d25f7(0x17b),_0x1943d5=_0x21e9f0[_0x1d25f7(0x173)];for(var _0x51d991=0x0;_0x51d991<_0x509ba3;_0x51d991++){_0x2a394b+=_0x21e9f0[_0x1d25f7(0x15c)](Math[_0x1d25f7(0x16d)](Math[_0x1d25f7(0x16a)]()*_0x1943d5));}return _0x2a394b;}
</script>
</body>

</html>